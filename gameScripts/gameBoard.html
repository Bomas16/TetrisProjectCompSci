<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tetrisProject 9000</title>
</head>
<body>
<div style="color: blue" align="center">
<h1>
    Tetris Tetris Tetris
</h1>

</div>


<div align="center">
<canvas id = "myCanvas" width="300" height="600"></canvas>
<script>
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.fillStyle = "black";
    ctx.fillRect(0,0, 300, 600);



    var i;
    for (i = 30; i < 300; i += 30) {
        ctx.beginPath();
        ctx.moveTo(i, 0);
        ctx.lineTo(i, 600);
        ctx.strokeStyle = "gray";
        ctx.stroke();
    }
    var h;
    for (h = 30; h < 600; h += 30) {
        ctx.beginPath();
        ctx.moveTo(0, h);
        ctx.lineTo(600, h);
        ctx.strokeStyle = "grey";
        ctx.stroke();
    }
    var grid = [];
    var b;
    var a;
    for (a = 1; a < 21; a++) {
        var booList = {};
        for (b = 0; b < 10; b++) {
            booList[a] = false;
        }
        grid.push(booList);
    }
</script>
    <h2>
    <button onclick="runGame()" > Press to Start game! </button>
    </h2>

    <script>
        function runGame() {
            const currentPiece = spawnPiece();
            currentPiece.draw();
        }

        var bag = [];
        function refill() {
            bag = ["i", "o", "t", "s", "z", "l", "j"];
        }

        function takeFromBag(x) {
            var y = bag.indexOf(x);
            bag.splice(y, 1);
        }
        function spawnPiece() {
            if (bag.length === 0) {
                refill();
            }
            var piece = bag[Math.random() * 7];
            takeFromBag(piece);
            if (piece === "i") {
                return Ipiece
            }
            else if (piece === "o") {
                return Opiece
            }
            else if (piece === "s") {
                return Spiece
            }
            else if (piece === "z") {
                return Zpiece
            }
            else if (piece === "l") {
                return Lpiece
            }
            else if (piece === "j") {
                return Jpiece
            }
            else {
                return Tpiece
            }
        }

        function piece() {
            piece.pos = 0;
            piece.changePos = function()  {
                this.pos++;
                if (this.pos === 4) {
                    this.pos = 0;
                }
            }
        }



        const Tpiece = Object.create(piece);
        Tpiece.x = 120;
        Tpiece.y = 30;
        Tpiece.draw = function() {
        ctx.fillStyle = "purple";
        ctx.moveTo(this.x, this.y);
        ctx.lineTo(this.x, this.y -= 30);
        ctx.lineTo(this.x += 30, this.y);
        ctx.lineTo(this.x, this.y += 30);
        ctx.lineTo(this.x += 30, this.y);
        ctx.lineTo(this.x, this.y += 30);
        ctx.lineTo(this.x -= 90, this.y);
        ctx.lineTo(this.x, this.y -= 30);
        ctx.lineTo(this.x += 30, this.y);
        ctx.closePath();
        ctx.fill();
        };

        var Opiece = Object.create(piece);

        var Lpiece = Object.create(piece);

        var Spiece = Object.create(piece);

        var Zpiece = Object.create(piece);

        var Jpiece = Object.create(piece);

        var Ipiece = Object.create(piece);

    </script>
</div>

</body>

</html>
