<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tetrisProject 9000</title>
</head>
<body>
<div style="color: blue" align="center">
<h1>
    Tetris Tetris Tetris
</h1>

</div>


<div align="center">
<canvas id = "myCanvas" width="300" height="600"></canvas>
<script>
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.fillStyle = "black";
    ctx.fillRect(0,0, 300, 600);
    var i;
    for (i = 30; i < 300; i += 30) {
        ctx.beginPath();
        ctx.moveTo(i, 0);
        ctx.lineTo(i, 600);
        ctx.strokeStyle = "gray";
        ctx.stroke();
    }
    var h;
    for (h = 30; h < 600; h += 30) {
        ctx.beginPath();
        ctx.moveTo(0, h);
        ctx.lineTo(600, h);
        ctx.strokeStyle = "grey";
        ctx.stroke();
    }
    var grid = [];
    var b;
    var a;
    for (a = 1; a < 21; a++) {
        var booList = {};
        for (b = 0; b < 10; b++) {
            booList[a] = false;
        }
        grid.push(booList);
    }
</script>
    <h2>
    <button onclick="runGame" > Press to Start game! </button>
    </h2>

    <script>
        function runGame() {
            var x = new Tpiece();
            spawnPiece();

        }

        var bag = [];
        function refill() {
            bag = ["i", "o", "t", "s", "z", "l", "j"];
        }

        function takeFromBag(x) {
            var y = bag.indexOf(x);
            bag.splice(y, 1);
        }
        function spawnPiece() {
            if (bag.length === 0) {
                refill();
            }
            var piece = bag[Math.random() * 7];
            takeFromBag(piece);
            if (piece === "i") {
                piece = Ipiece;
            }
            else if (piece === "o") {
                piece = Opiece;
            }
            else if (piece === "s") {
                piece = Spiece;
            }
            else if (piece === "z") {
                piece = Zpiece;
            }
            else if (piece === "l") {
                piece = Lpiece;
            }
            else if (piece === "j") {
                piece = Jpiece;
            }
            else {
                piece = Tpiece;
            }
            return piece;
        }

        var piece = {
            pos : 0,
            changePos()  {
                this.pos++;
                if (this.pos === 4) {
                    this.pos = 0;
                }
            }
        };



        const Tpiece = Object.create(piece);
        Tpiece.x = 100;
        Tpiece.y = 40;
        Tpiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(this.x, this.y - 20);
            ctx.lineTo(this.x + 20, this.y);
            ctx.lineTo(this.x, this.y + 20);
            ctx.lineTo(this.x + 20, this.y);
            ctx.lineTo(this.x, this.y + 20);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y - 20);
            ctx.lineTo(this.x + 20, this.y);
            ctx.closePath();
            ctx.fillStyle = "purple";
            ctx.fill();
        }

        const Opiece = Object.create(piece);
        Opiece.x = 150;
        Opiece.y = 30;
        Opiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(this.x - 30, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.lineTo(this.x + 60, this.y);
            ctx.lineTo(this.x, this.y + 60);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.closePath();
            ctx.fillStyle = "yellow";
            ctx.fill();
        }

        const Lpiece = Object.create(piece);
        Lpiece.x = 135;
        Lpiece.y = 45;
        Lpiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.moveTo(this.x + 15, this.y - 15);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x + 90, this.y);
            ctx.lineTo(this.x, this.y - 60);
            ctx.lineTo(this.x - 30, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.closePath();
            ctx.fillStyle = "orange";
            ctx.fill();
        }

        const Spiece = Object.create(piece);
        Spiece.x = 135;
        Spiece.y = 45;
        Spiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.moveTo(this.x - 15, this.y - 15);
            ctx.lineTo(this.x, this.y - 30);
            ctx.lineTo(this.x + 60, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x - 30, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.lineTo(this.x + 60, this.y);
            ctx.closePath();
            ctx.fillStyle = "green";
            ctx.fill();
        }
        const Zpiece = Object.create(piece);
        Zpiece.x = 135;
        Zpiece.y = 45;
        Zpiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.moveTo(this.x - 15, this.y - 15);
            ctx.lineTo(this.x - 30, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.lineTo(this.x + 60, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x + 30, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.closePath();
            ctx.fillStyle = "red";
            ctx.fill();
        }
        const Jpiece = Object.create(piece);
        Jpiece.x = 135;
        Jpiece.y = 45;
        Jpiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.moveTo(this.x - 15, this.y - 15);
            ctx.lineTo(this.x + 60, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x - 90, this.y);
            ctx.lineTo(this.x, this.y - 60);
            ctx.lineTo(this.x + 30, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.closePath();
            ctx.fillStyle = "blue";
            ctx.fill();
        }
        const Ipiece = Object.create(piece);
        Ipiece.x = 150;
        Ipiece.y = 30;
        Jpiece.draw = function() {
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(this.x - 60, this.y);
            ctx.lineTo(this.x, this.y - 30);
            ctx.lineTo(this.x + 120, this.y);
            ctx.lineTo(this.x, this.y + 30);
            ctx.lineTo(this.x - 60, this.y);
            ctx.closePath();
            ctx.fillStyle = "cyan";
            ctx.fill();
        }
    </script>
</div>

</body>

</html>
